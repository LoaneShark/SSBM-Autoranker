<table class='display'>
	<!-- table header -->
	<colgroup>
		<col width='15%' /> <!-- team     -->
		<col width='30%' /> <!-- player   -->
		<col width='10%' /> <!-- ssbmrank -->
		<col width='10%' /> <!-- s-rank   -->
		<col width='10%' /> <!-- elo      -->
		<col width='10%' /> <!-- glicko   -->
	</colgroup>
	<thead>
		<tr class='header'>
			<th>Team</th>
			<th>Player</th>
			<th>{% if {{page.title}} == 'Ultimate'%}
					PGR
				{% elsif {{page.title}} == 'Melee' %}
					SSBMRank
				{% elsif {{page.title}} == 'PM' %}
					PMRank
				{% elsif {{page.title}} == 'Smash4' %}
					PGR
				{% else %}
					Rank
				{% endif %}
			</th>
			<th>S-Rank</th>
			<th>ELO</th>
			<th>Glicko-2</th>
		</tr>
	</thead>
	<!-- table content -->
	<tbody>
		{% for i in (0..10) %}
			<tr>
				<td markdown='span' id={{'team_' | append: i}}></td>
				<td markdown='span' id={{'tag_' | append: i}}></td>
				<td markdown='span' id={{'rank_' | append: i}}></td>
				<td markdown='span' id={{'srank_' | append: i}}></td>
				<td markdown='span' id={{'elo_' | append: i}}></td>
				<td markdown='span' id={{'glicko_' | append: i}}></td>
			</tr>
		{% endfor %}
	</tbody>
</table>

<!-- DB import/connection -->
<script src="https://www.gstatic.com/firebasejs/5.8.4/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAfoIXJXWGlxuMvOOJCBDYa-Jbw8FaiblY",
    authDomain: "smashranks-db.firebaseapp.com",
    databaseURL: "https://smashranks-db.firebaseio.com",
    projectId: "smashranks-db",
    storageBucket: "smashranks-db.appspot.com",
    messagingSenderId: "1057783802681"
  };
  firebase.initializeApp(config);
</script>
<!-- populating page's table -->
<script src="/assets/js/table_utils.js"></script>
<script>
	var page_title = "{{page.title}}"
	var title_ids = {"Melee":1,"PM":2,"Smash4":3,"64":4,"Brawl":5,"Ultimate":1386}
	var game_id = title_ids[page_title]
	var db_ref_str = "/" + game_id + "_2018_1/p_info";
	var db_ref = firebase.database().ref(db_ref_str);

	var db_query = db_ref.orderByChild('srank').limitToFirst(10)
	db_query.once('value').then(function(PlayerSnapshot) {
		var players = snapshotToTable(PlayerSnapshot);

		for (i = 0; i < 10; i++) {
			var player = players[i];

			document.getElementById('team_'+i).innerHTML=player[0];
			document.getElementById('tag_'+i).innerHTML=player[1];
			//document.getElementById('rank').innerHTML=player[2];
			document.getElementById('rank_'+i).innerHTML="N/A";
			document.getElementById('srank_'+i).innerHTML=player[3];
			document.getElementById('elo_'+i).innerHTML=player[4];
			document.getElementById('glicko_'+i).innerHTML=player[5];
		};

	});


</script>
<script>
	// fill the empty table with db values
	window.onload = function() {
		//document.getElementById('team').innerHTML='big';
		//document.getElementById('tag').innerHTML='chungus';
		//document.getElementById('rank').innerHTML='is';
		//document.getElementById('srank').innerHTML='very';
		//document.getElementById('elo').innerHTML='VERY';
		//document.getElementById('glicko').innerHTML='sexxy';
	};
</script>


  <!--{% for item in site.data.navigation %}
    <a href="{{ item.link }}" {% if page.url == item.link %}class="current"{% endif %}>{{ item.name }}</a>
  {% endfor %}-->